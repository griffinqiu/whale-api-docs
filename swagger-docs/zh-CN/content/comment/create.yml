swagger: "2.0"
info:
  description: "åˆ›å»ºå›å¤"
  version: "v1"
  title: "åˆ›å»ºå›å¤"
paths:
  /v1/content/comments:
    post:
      access:
      parameters:
        - name: "target_type"
          type: "string"
          description: "å…³è”å†…å®¹ç±»å‹ï¼Œå¯é€‰ï¼šTopic(è®¨è®º)ã€Comment(è¯„è®º)ã€Post(èµ„è®¯)ï¼Œä¾‹å¦‚ `Post`"
          required: true
        - name: "target_id"
          type: "integer"
          description: "å…³è”å†…å®¹ç±»å‹ id"
          required: true
        - name: "body"
          type: "string"
          description: "å›å¤å†…å®¹"
          required: true
        - name: "attachment_ids"
          type: "int[]"
          description: "ä¸Šä¼ å›¾ç‰‡çš„ id, å†è°ƒç”¨å›¾ç‰‡ä¸Šä¼ æ¥å£æˆåŠŸåï¼Œä¼šè¿”å›å›¾ç‰‡çš„ id"
          required: false
        - name: "hash_tags"
          type: "string[]"
          description: "è¯é¢˜æ ‡ç­¾åˆ—è¡¨"
          required: false
        - name: "mention_member_ids"
          type: "bool"
          description: "è¯„è®ºæåŠäºº member_id"
          required: false
        - name: "reply_to_id"
          type: "integer"
          description: "è¢«å›å¤çš„ comment id"
          required: false
        - name: "parent_id"
          type: "integer"
          description: "ä¸€çº§å›å¤çš„ id"
          required: false

      responses:
        "200":
          description: "è¿”å›æˆåŠŸ"
          schema:
            $ref: "#/definitions/create_resp"
        "500":
          description: "å†…éƒ¨é”™è¯¯"
        "400":
          description: "å‚æ•°é”™è¯¯"

      request_body:
        type: "json"
        value:
          {
            "target_type": "Topic",
            "target_id": 10449806,
            "body": "<p>æ”¯æŒä½ çš„è§‚ç‚¹ğŸ‘ğŸ»</p>",
          }
      response_body: { "code": 0, "data": { "id": 1 } }

definitions:
  create_resp:
    required: ["id"]
    properties:
      id:
        type: "integer"
        description: "åˆ›å»ºæˆåŠŸçš„å›å¤ id"
